define(function(require,exports,module){var e,t,n=module.uri||"",r=(n.substring(0,n.lastIndexOf("/")+1),{}.hasOwnProperty),i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=require("ace/worker/worker_client").WorkerClient,e=function(e){function t(e,t){this.workerClient=e,this.id=t,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.workerClient.on("message",function(e){return function(t){return t.data.identifier===e.id?e.onMessage(t):void 0}}(this)),this.callbackId=1,this.callbacks={}}return i(t,e),t.prototype.send=function(e,t){return this.workerClient.$worker.postMessage({command:e,identifier:this.id,args:t})},t.prototype.emit=function(e,t){return this.workerClient.$worker.postMessage({event:e,identifier:this.id,data:{data:t.data}})},t}(t),module.exports=e});