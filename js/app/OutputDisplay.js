define(function(require,exports,module){{var e,t,n,r,i,o,s,a,u,l,c,d,p,f=module.uri||"";f.substring(0,f.lastIndexOf("/")+1)}p=o=require("hyper"),l=p._div,d=p._pre,c=p._input,n=require("React"),i=n.addons.classSet,e=require("ejquery"),r=require("ace/ace"),s=require("vendor/jsDump"),a=require("./OutputBox"),u=require("./UpdatingDisplay"),module.exports=o(t=function(){function t(){}return t.prototype.windowResized=function(){return this.setState({height:window.innerHeight})},t.prototype.componentWillMount=function(){return window.addEventListener("resize",this.windowResized),this.windowResized()},t.prototype.componentDidUpdate=function(t){var n,r,i,o,s;return i=t.logs,i.length!==this.props.logs.length&&(null!=(o=i[0])?o[0]:void 0)!==(null!=(s=this.props.logs[0])?s[0]:void 0)?(n=e(this.getDOMNode()),r=n.scrollTop()/10,n.animate({scrollTop:0},r)):void 0},t.prototype.handleDelete=function(e,t){return 1===this.numBoxes()?this.props.onRemoveFocus():this.props.onFocusOutput(Math.min(this.numBoxes()-2,t)),this.props.onDelete(e)},t.prototype.handleFocusSibling=function(e,t){return this.props.onFocusOutput(Math.max(0,Math.min(e+t,this.numBoxes()-1)))},t.prototype.handleRemoveFocus=function(){return this.props.onRemoveFocus()},t.prototype.numBoxes=function(){return this.props.logs.length},t.prototype.parseValue=function(e){return d("function"==typeof e?e.toString():s.parse(e))},t.prototype.render=function(){var e,t,r,i,o,s,c,d,p;return l({className:"output",style:{height:this.state.height-25,padding:"15px 20px 10px 0px",overflow:"auto"}},function(){var l,f,h,m,g;for(h=this.props.logs,g=[],r=l=0,f=h.length;f>l;r=++l)m=h[r],c=m[0],p=m[1],i=n.isValidComponent(p),s=p.source,o=!i&&!s,g.push(a({id:c,key:c,position:r,focus:this.props.focus&&r===this.props.focusedOutputIndex,width:this.props.width-45,html:o?p:void 0,onDelete:this.handleDelete,onFocusSibling:this.handleFocusSibling,onRemoveFocus:this.handleRemoveFocus},i?p:s?(d=p.source,e=p.ast,t=p.compiled,p,u({key:c,value:p,worker:this.props.worker,completers:this.props.completers,updatedSource:this.props.updatedSource,maxWidth:this.props.width-45,onCommand:this.props.onCommand})):void 0));return g}.call(this))},t}())});