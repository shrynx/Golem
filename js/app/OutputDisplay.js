define(function(require,exports,module){{var e,t,o,n,i,r,s,a,u,d,c,l,p,m=module.uri||"";m.substring(0,m.lastIndexOf("/")+1)}p=r=require("hyper"),d=p._div,l=p._pre,c=p._input,o=require("React"),i=o.addons.classSet,e=require("ejquery"),n=require("ace/ace"),s=require("vendor/jsDump"),a=require("./OutputBox"),u=require("./UpdatingDisplay"),module.exports=r(t=function(){function t(){}return t.prototype.windowResized=function(){return this.setState({height:window.innerHeight})},t.prototype.componentWillMount=function(){return window.addEventListener("resize",this.windowResized),this.windowResized()},t.prototype.componentDidUpdate=function(t){var o,n,i,r,s;return i=t.logs,i.length!==this.props.logs.length&&(null!=(r=i[0])?r[0]:void 0)!==(null!=(s=this.props.logs[0])?s[0]:void 0)?(o=e(this.getDOMNode()),n=o.scrollTop()/10,o.animate({scrollTop:0},n)):void 0},t.prototype.handleDelete=function(e,t){return 1===this.numBoxes()?this.props.onRemoveFocus():this.props.onFocusOutput(Math.min(this.numBoxes()-2,t)),this.props.onDelete(e)},t.prototype.handleFocusSibling=function(e,t){return this.props.onFocusOutput(Math.max(0,Math.min(e+t,this.numBoxes()-1)))},t.prototype.handleRemoveFocus=function(){return this.props.onRemoveFocus()},t.prototype.numBoxes=function(){return this.props.logs.length},t.prototype.parseValue=function(e){return l("function"==typeof e?e.toString():s.parse(e))},t.prototype.render=function(){var e,t,n,i,r,s,c,l,p;return d({className:"output",style:{height:this.state.height-25,padding:"15px 20px 10px 0px",overflow:"auto"}},function(){var d,m,h,f,g;for(h=this.props.logs,g=[],n=d=0,m=h.length;m>d;n=++d)f=h[n],c=f[0],p=f[1],i=o.isValidComponent(p),s=p.source,r=!i&&!s,g.push(a({id:c,key:c,position:n,focus:this.props.focus&&n===this.props.focusedOutputIndex,width:this.props.width-45,html:r?p:void 0,onDelete:this.handleDelete,onFocusSibling:this.handleFocusSibling,onRemoveFocus:this.handleRemoveFocus},i?p:s?(l=p.source,e=p.ast,t=p.compiled,p,u({key:c,value:p,worker:this.props.worker,completers:this.props.completers,updatedSource:this.props.updatedSource,maxWidth:this.props.width-45,onCommand:this.props.onCommand})):void 0));return g}.call(this))},t}())});