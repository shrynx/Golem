define(function(require,exports,module){{var e,t,n,i,r,o,s,a,l=module.uri||"";l.substring(0,l.lastIndexOf("/")+1)}n=require("beautify").js_beautify,r=(o=require("hljs")).highlight,s=function(e,t,n){return e.compiledJs?n():t.displayMessage("compiler","Fix: '"+e.message.value+"' first")},i=function(e){return n(e,{indent_size:2})},r=function(e){return o.highlight("javascript",e).value},a=function(e){return e.replace(/^(.|\n)*var (\w+) = Shem\.\w+\.\2;\n/,"").replace(/^(.|\n)*'use strict'\n/,"").replace(/\nreturn \{[^\}]+\};\n\}\(\)\);$/,"")},t=function(){function e(){}return e.defaultSymbols=["dump","d"],e.description="Log generated JavaScript",e.symbols=e.defaultSymbols,e.execute=function(e,t,n){return s(t,n,function(){return n.logResult(r(i(a(t.compiledJs))))})},e}(),e=function(){function e(){}return e.defaultSymbols=["build"],e.description="Build the project and JavaScript",e.symbols=e.defaultSymbols,e.execute=function(e,t,n){return s(t,n,function(){return t.mode.worker.call("compileBuild",[t.module.moduleName],function(e){return n.memory.writeBuilt?(n.memory.writeBuilt(e.js),n.displayMessage("file","Build saved to index.js")):n.logResult(r(i(e.js)))})})},e}(),module.exports=[t,e]});