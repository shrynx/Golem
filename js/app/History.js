define(function(){var e;return e=function(){function e(){this.data=[]}var t;return e.prototype.add=function(e){return this.data.push(e)},e.prototype.print=function(e){var n,r,i,o,a;for(r=[""],a=this.data,i=0,o=a.length;o>i;i++)n=a[i],t(r,n.from,n.to,n.text),e(r)},t=function(e,t,n,r){var i,o,a,s,u,l;return u=t.line===n.line,u?(o=e[t.line],e[t.line]=o.slice(0,t.ch)+r[0]+o.slice(n.ch)):(e[t.line]=e[t.line].slice(0,t.ch)+r[0],e[n.line]=r[r.length-1]+e[n.line].slice(n.ch)),a=r.length,s=1+n.line-t.line,a>2||s>2?(i=u?r.slice(1):r.slice(1,-1),[].splice.apply(e,[l=t.line+1,Math.max(0,s-a)-l].concat(i)),i):void 0},e.prototype.merge=function(){},e}()});