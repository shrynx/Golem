define(function(){var e;return e=function(){function e(){this.data=[]}var t;return e.prototype.add=function(e){return this.data.push(e)},e.prototype.print=function(e){var o,r,n,i,s;for(r=[""],s=this.data,n=0,i=s.length;i>n;n++)o=s[n],t(r,o.from,o.to,o.text),e(r)},t=function(e,t,o,r){var n,i,s,a,u,d;return u=t.line===o.line,u?(i=e[t.line],e[t.line]=i.slice(0,t.ch)+r[0]+i.slice(o.ch)):(e[t.line]=e[t.line].slice(0,t.ch)+r[0],e[o.line]=r[r.length-1]+e[o.line].slice(o.ch)),s=r.length,a=1+o.line-t.line,s>2||a>2?(n=u?r.slice(1):r.slice(1,-1),[].splice.apply(e,[d=t.line+1,Math.max(0,a-s)-d].concat(n)),n):void 0},e.prototype.merge=function(){},e}()});