define(function(){var e;return function(){function t(e){return e.replace(/__/g,"-")}function r(e){return e.length>2&&"<"==e[0]?{html:e.toString()}:'"'+e.toString().replace(/"/g,'\\"').replace(/</g,"&lt;")+'"'}function n(e){return e+""}function i(e,t){if(!e||!e[0])return 0;for(var r=t.length,n=e[0].length,i=1;i<e.length;i++)n+=r+e[i].length;return n}function a(e){return e&&e[0]?e.length:0}function u(t,r,n){var u="",o=e.separator(!1),s=(e.indent(),i(r,u+o)<e.lineLimit||a(r)>e.numLinesLimit),c=s?o:e.separator(!0),l=s?"":e.indent(1);if(r.join&&(r=r.join(u+c+l)),!r)return t+n;var f=/\w$/.test(t)?" ":"";return s?t+f+r+n:[t,l+r+n].join(c)}function o(e,t,r){var n=e.length,i=Array(n);for(this.up();n--;)i[n]=this.parse(e[n]);return this.down(),u(t,i,r)}function s(e){return o.call(this,e,"[","]")}e={parse:function(e,t){var r=this.parsers[t||this.typeOf(e)];return parserType=typeof r,"function"==parserType?r.call(this,e):"string"==parserType?r:this.parsers.error},typeOf:function(e){var t,r=typeof e;if("object"==r||"function"==r){if(null===e)return"null";if(Immutable.Iterable.isIterable(e))return"Immutable";switch(t=Object.prototype.toString.call(e).slice(8,-1)){case"Array":return"array";case"Date":return"date";case"RegExp":return"regexp";case"Window":case"DOMWindow":case"global":return"window";case"HTMLDocument":case"Document":return"document";case"NodeList":return"nodelist";default:if("callee"in e)return"arguments";if(window.jQuery&&e instanceof window.jQuery)return"jquery";if("ownerDocument"in e&&"defaultView"in e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)return"node"}}return r},lineLimit:80,numLinesLimit:40,separator:function(e){return this.multiline&&e?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(e){if(!this.multiline)return"";var t=this.indentChar;return this.HTML&&(t=t.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")),Array(this._depth_+(e||0)).join(t)},up:function(e){this._depth_+=e||1},down:function(e){this._depth_-=e||1},setParser:function(e,t){this.parsers[e]=t},quote:r,literal:n,join:u,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(e){return e},array:s,nodelist:s,arguments:s,jquery:s,object:function(r){if(this._depth_>=this.maxDepth)throw this._depth_=1,new Error("Object nesting exceeded jsDump.maxDepth ("+e.maxDepth+")");var n=[];this.up();for(var i in r)n.push(this.parse(i,"key")+": "+this.parse(r[i]));this.down();var a=t(r.constructor.name),o=r.constructor!==Object;return 0===n.length&&o?a:o?u("("+a,n,")"):u("{",n,"}")},node:function(e){var t=this.HTML?"&lt;":"<",r=this.HTML?"&gt;":">",n=e.nodeName.toLowerCase(),i=t+n;for(var a in this.DOMAttrs){var u=e[this.DOMAttrs[a]];u&&(i+=" "+a+"="+this.parse(u,"attribute"))}return i+r+t+"/"+n+r},functionArgs:function(e){var t=e.length;if(!t)return"";for(var r=Array(t);t--;)r[t]=String.fromCharCode(97+t);return" "+r.join(", ")+" "},key:n,functionCode:"[code]",attribute:r,string:r,date:r,regexp:n,number:function(e){return e+""},"boolean":function(e){return e?"True":"False"},Immutable:function(e){{var t;this.parse(e.toJS())}if(Immutable.Set.isSet(e))t=["(Set",")"];else if(Immutable.List.isList(e))t=["{","}"];else if(Immutable.Map.isMap(e)){if(!e.isEmpty()&&"string"==typeof e.findKey(function(){return!0}))return this.parse(e.toObject());t=["(Map",")"],e=e.keySeq().interleave(e.valueSeq())}else Immutable.Stack.isStack(e)&&(t=["(List",")"]);return o.call(this,e.toArray(),t[0],t[1])}},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"  ",multiline:!0,maxDepth:100}}(),e});