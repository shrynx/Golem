define(function(){var e;return function(){function t(e){return e.replace(/__/g,"-")}function n(e){return e.length>2&&"<"==e[0]?{html:e.toString()}:'"'+e.toString().replace(/"/g,'\\"').replace(/</g,"&lt;")+'"'}function r(e){return e+""}function i(e,t){if(!e||!e[0])return 0;for(var n=t.length,r=e[0].length,i=1;i<e.length;i++)r+=n+e[i].length;return r}function o(e){return e&&e[0]?e.length:0}function a(t,n,r){var a="",s=e.separator(!1),u=(e.indent(),i(n,a+s)<e.lineLimit||o(n)>e.numLinesLimit),l=u?s:e.separator(!0),c=u?"":e.indent(1);if(n.join&&(n=n.join(a+l+c)),!n)return t+r;var f=/\w$/.test(t)?" ":"";return u?t+f+n+r:[t,c+n+r].join(l)}function s(e,t,n){var r=e.length,i=Array(r);for(this.up();r--;)i[r]=this.parse(e[r]);return this.down(),a(t,i,n)}function u(e){return s.call(this,e,"[","]")}e={parse:function(e,t){var n=this.parsers[t||this.typeOf(e)];return parserType=typeof n,"function"==parserType?n.call(this,e):"string"==parserType?n:this.parsers.error},typeOf:function(e){var t,n=typeof e;if("object"==n||"function"==n){if(null===e)return"null";if(Immutable.Iterable.isIterable(e))return"Immutable";switch(t=Object.prototype.toString.call(e).slice(8,-1)){case"Array":return"array";case"Date":return"date";case"RegExp":return"regexp";case"Window":case"DOMWindow":case"global":return"window";case"HTMLDocument":case"Document":return"document";case"NodeList":return"nodelist";default:if("callee"in e)return"arguments";if(window.jQuery&&e instanceof window.jQuery)return"jquery";if("ownerDocument"in e&&"defaultView"in e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)return"node"}}return n},lineLimit:80,numLinesLimit:40,separator:function(e){return this.multiline&&e?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(e){if(!this.multiline)return"";var t=this.indentChar;return this.HTML&&(t=t.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")),Array(this._depth_+(e||0)).join(t)},up:function(e){this._depth_+=e||1},down:function(e){this._depth_-=e||1},setParser:function(e,t){this.parsers[e]=t},quote:n,literal:r,join:a,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(e){return e},array:u,nodelist:u,arguments:u,jquery:u,object:function(n){if(this._depth_>=this.maxDepth)throw this._depth_=1,new Error("Object nesting exceeded jsDump.maxDepth ("+e.maxDepth+")");var r=[];this.up();for(var i in n)r.push(this.parse(i,"key")+": "+this.parse(n[i]));this.down();var o=t(n.constructor.name),s=n.constructor!==Object;return 0===r.length&&s?o:s?a("("+o,r,")"):a("{",r,"}")},node:function(e){var t=this.HTML?"&lt;":"<",n=this.HTML?"&gt;":">",r=e.nodeName.toLowerCase(),i=t+r;for(var o in this.DOMAttrs){var a=e[this.DOMAttrs[o]];a&&(i+=" "+o+"="+this.parse(a,"attribute"))}return i+n+t+"/"+r+n},functionArgs:function(e){var t=e.length;if(!t)return"";for(var n=Array(t);t--;)n[t]=String.fromCharCode(97+t);return" "+n.join(", ")+" "},key:r,functionCode:"[code]",attribute:n,string:n,date:n,regexp:r,number:function(e){return e+""},"boolean":function(e){return e?"True":"False"},Immutable:function(e){{var t;this.parse(e.toJS())}if(Immutable.Set.isSet(e))t=["(Set",")"];else if(Immutable.List.isList(e))t=["{","}"];else if(Immutable.Map.isMap(e)){if(!e.isEmpty()&&"string"==typeof e.findKey(function(){return!0}))return this.parse(e.toObject());t=["(Map",")"],e=e.keySeq().interleave(e.valueSeq())}else Immutable.Stack.isStack(e)&&(t=["(List",")"]);return s.call(this,e.toArray(),t[0],t[1])}},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"  ",multiline:!0,maxDepth:100}}(),e});