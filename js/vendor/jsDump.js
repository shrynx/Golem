define(function(){var e;return function(){function t(e){return e.replace(/__/g,"-")}function r(e){return e.length>2&&"<"==e[0]?{html:e.toString()}:'"'+e.toString().replace(/"/g,'\\"').replace(/</g,"&lt;")+'"'}function n(e){return e+""}function o(e,t){if(!e||!e[0])return 0;for(var r=t.length,n=e[0].length,o=1;o<e.length;o++)n+=r+e[o].length;return n}function i(e){return e&&e[0]?e.length:0}function s(t,r,n){var s="",a=e.separator(!1),u=(e.indent(),o(r,s+a)<e.lineLimit||i(r)>e.numLinesLimit),d=u?a:e.separator(!0),c=u?"":e.indent(1);if(r.join&&(r=r.join(s+d+c)),!r)return t+n;var l=/\w$/.test(t)?" ":"";return u?t+l+r+n:[t,c+r+n].join(d)}function a(e,t,r){var n=e.length,o=Array(n);for(this.up();n--;)o[n]=this.parse(e[n]);return this.down(),s(t,o,r)}function u(e){return a.call(this,e,"[","]")}e={parse:function(e,t){var r=this.parsers[t||this.typeOf(e)];return parserType=typeof r,"function"==parserType?r.call(this,e):"string"==parserType?r:this.parsers.error},typeOf:function(e){var t,r=typeof e;if("object"==r||"function"==r){if(null===e)return"null";if(Immutable.Iterable.isIterable(e))return"Immutable";switch(t=Object.prototype.toString.call(e).slice(8,-1)){case"Array":return"array";case"Date":return"date";case"RegExp":return"regexp";case"Window":case"DOMWindow":case"global":return"window";case"HTMLDocument":case"Document":return"document";case"NodeList":return"nodelist";default:if("callee"in e)return"arguments";if(window.jQuery&&e instanceof window.jQuery)return"jquery";if("ownerDocument"in e&&"defaultView"in e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)return"node"}}return r},lineLimit:80,numLinesLimit:40,separator:function(e){return this.multiline&&e?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(e){if(!this.multiline)return"";var t=this.indentChar;return this.HTML&&(t=t.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")),Array(this._depth_+(e||0)).join(t)},up:function(e){this._depth_+=e||1},down:function(e){this._depth_-=e||1},setParser:function(e,t){this.parsers[e]=t},quote:r,literal:n,join:s,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(e){return e},array:u,nodelist:u,arguments:u,jquery:u,object:function(r){if(this._depth_>=this.maxDepth)throw this._depth_=1,new Error("Object nesting exceeded jsDump.maxDepth ("+e.maxDepth+")");var n=[];this.up();for(var o in r)n.push(this.parse(o,"key")+": "+this.parse(r[o]));this.down();var i=t(r.constructor.name),a=r.constructor!==Object;return 0===n.length&&a?i:a?s("("+i,n,")"):s("{",n,"}")},node:function(e){var t=this.HTML?"&lt;":"<",r=this.HTML?"&gt;":">",n=e.nodeName.toLowerCase(),o=t+n;for(var i in this.DOMAttrs){var s=e[this.DOMAttrs[i]];s&&(o+=" "+i+"="+this.parse(s,"attribute"))}return o+r+t+"/"+n+r},functionArgs:function(e){var t=e.length;if(!t)return"";for(var r=Array(t);t--;)r[t]=String.fromCharCode(97+t);return" "+r.join(", ")+" "},key:n,functionCode:"[code]",attribute:r,string:r,date:r,regexp:n,number:function(e){return e+""},"boolean":function(e){return e?"True":"False"},Immutable:function(e){{var t;this.parse(e.toJS())}if(Immutable.Set.isSet(e))t=["(Set",")"];else if(Immutable.List.isList(e))t=["{","}"];else if(Immutable.Map.isMap(e)){if(!e.isEmpty()&&"string"==typeof e.findKey(function(){return!0}))return this.parse(e.toObject());t=["(Map",")"],e=e.keySeq().interleave(e.valueSeq())}else Immutable.Stack.isStack(e)&&(t=["(List",")"]);return a.call(this,e.toArray(),t[0],t[1])}},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"  ",multiline:!0,maxDepth:100}}(),e});