var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(n){var i=t.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)},s=e.webkitRequestFileSystem,a=e.requestFileSystem||s||e.mozRequestFileSystem,l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",h=0,u=500,d=function(t){var i=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?i():setTimeout(i,u)},f=function(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(o){l(o)}}},g=function(t,l){var u,g,p,m=this,v=t.type,A=!1,C=function(){f(m,"writestart progress write writeend".split(" "))},w=function(){if((A||!u)&&(u=n().createObjectURL(t)),g)g.location.href=u;else{var i=e.open(u,"_blank");void 0==i&&"undefined"!=typeof safari&&(e.location.href=u)}m.readyState=m.DONE,C(),d(u)},y=function(e){return function(){return m.readyState!==m.DONE?e.apply(this,arguments):void 0}},F={create:!0,exclusive:!1};return m.readyState=m.INIT,l||(l="download"),r?(u=n().createObjectURL(t),i.href=u,i.download=l,o(i),m.readyState=m.DONE,C(),void d(u)):(/^\s*(?:text\/(?:plain|xml)|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)&&(t=new Blob(["ï»¿",t],{type:t.type})),e.chrome&&v&&v!==c&&(p=t.slice||t.webkitSlice,t=p.call(t,0,t.size,c),A=!0),s&&"download"!==l&&(l+=".download"),(v===c||s)&&(g=e),a?(h+=t.size,void a(e.TEMPORARY,h,y(function(e){e.root.getDirectory("saved",F,y(function(e){var n=function(){e.getFile(l,F,y(function(e){e.createWriter(y(function(n){n.onwriteend=function(t){g.location.href=e.toURL(),m.readyState=m.DONE,f(m,"writeend",t),d(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=m["on"+e]}),n.write(t),m.abort=function(){n.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),w)}),w)};e.getFile(l,{create:!1},y(function(e){e.remove(),n()}),y(function(e){e.code===e.NOT_FOUND_ERR?n():w()}))}),w)}),w)):void w())},p=g.prototype,m=function(e,t){return new g(e,t)};return p.abort=function(){var e=this;e.readyState=e.DONE,f(e,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,m}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});