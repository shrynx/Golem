var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(n){var r=t.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)},s=e.webkitRequestFileSystem,a=e.requestFileSystem||s||e.mozRequestFileSystem,c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",l=0,d=500,p=function(t){var r=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?r():setTimeout(r,d)},h=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(o){c(o)}}},f=function(t,c){var d,f,m,g=this,v=t.type,y=!1,b=function(){h(g,"writestart progress write writeend".split(" "))},x=function(){if((y||!d)&&(d=n().createObjectURL(t)),f)f.location.href=d;else{var r=e.open(d,"_blank");void 0==r&&"undefined"!=typeof safari&&(e.location.href=d)}g.readyState=g.DONE,b(),p(d)},w=function(e){return function(){return g.readyState!==g.DONE?e.apply(this,arguments):void 0}},k={create:!0,exclusive:!1};return g.readyState=g.INIT,c||(c="download"),i?(d=n().createObjectURL(t),r.href=d,r.download=c,o(r),g.readyState=g.DONE,b(),void p(d)):(/^\s*(?:text\/(?:plain|xml)|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)&&(t=new Blob(["ï»¿",t],{type:t.type})),e.chrome&&v&&v!==u&&(m=t.slice||t.webkitSlice,t=m.call(t,0,t.size,u),y=!0),s&&"download"!==c&&(c+=".download"),(v===u||s)&&(f=e),a?(l+=t.size,void a(e.TEMPORARY,l,w(function(e){e.root.getDirectory("saved",k,w(function(e){var n=function(){e.getFile(c,k,w(function(e){e.createWriter(w(function(n){n.onwriteend=function(t){f.location.href=e.toURL(),g.readyState=g.DONE,h(g,"writeend",t),p(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=g["on"+e]}),n.write(t),g.abort=function(){n.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),x)}),x)};e.getFile(c,{create:!1},w(function(e){e.remove(),n()}),w(function(e){e.code===e.NOT_FOUND_ERR?n():x()}))}),x)}),x)):void x())},m=f.prototype,g=function(e,t){return new f(e,t)};return m.abort=function(){var e=this;e.readyState=e.DONE,h(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});